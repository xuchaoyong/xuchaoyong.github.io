<!doctype html>
<html class="theme-next use-motion">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>




  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.3.0"/>









    <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.3.0" />




  <title> Satisfy the Real World! </title>
</head>

<body>
  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
    <a href="/" class="brand">
        <span class="logo">
          <i class="icon-logo"></i>
        </span>
        <span class="site-title">Satisfy the Real World!</span>
    </a>
</h1>


  <ul id="menu" class="menu">
    
      
      <li class="menu-item menu-item-home">
        <a href="/">
          <i class="menu-item-icon icon-home"></i> <br />
          Home
        </a>
      </li>
    
      
      <li class="menu-item menu-item-archives">
        <a href="/archives">
          <i class="menu-item-icon icon-archives"></i> <br />
          Archives
        </a>
      </li>
    
      
      <li class="menu-item menu-item-tags">
        <a href="/tags">
          <i class="menu-item-icon icon-tags"></i> <br />
          Tags
        </a>
      </li>
    
  </ul>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
            
          

          <div id="posts" class="posts-expand">
            
  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/03/24/C-Constructor-Rules/">
                C++ Constructor Rules
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            Posted on 2015-03-23
          
        </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/03/24/C-Constructor-Rules/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/03/24/C-Constructor-Rules/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h3 id="Purpose_of_C++_Constructor">Purpose of C++ Constructor</h3>
<blockquote>
<p>One of C++’s aims is to make using class objects similar to using standard types. </p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">int year = <span class="number">2001</span>;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">thing</span></span></div><div class="line">{</div><div class="line">      char *pn;</div><div class="line">          int m;</div><div class="line">};</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">thing</span> amabob = </span>{<span class="string">"wodget"</span>, -<span class="number">23</span>};</div></pre></td></tr></table></figure>

<p>The constructor is created to solve above problem.</p>
<h5 id="Rule_1:">Rule 1:</h5>
<blockquote>
<p>The default constructor will be provided by the compiler only if *you don’t define any constructors. After you define any constructor for a class, the responsibility for providing a default constructor for that class passes from the compiler to you.</p>
</blockquote>
<h5 id="Rule_2:">Rule 2:</h5>
<blockquote>
<p>When you design an class, you should usually provide a default constructor that implicitly initializes all class members.</p>
</blockquote>
<h5 id="Rule_3:">Rule 3:</h5>
<blockquote>
<p>If your inherited class does not explicitly declare a constructor, the compiler will implicitly call the default constructor of base class. If you have not a default constructor in base class, it will cause error.</p>
</blockquote>
<h5 id="Rule_4:">Rule 4:</h5>
<blockquote>
<p>If you have declared a constuctor explicitly for inherited class whether it contains parameters or not without explicitly calling the base class constructor, the compiler will first execute the default constructor of base class.</p>
</blockquote>
<h5 id="Rule_5:">Rule 5:</h5>
<blockquote>
<p>If you haven’t call the base class constructor explicitly and you have only base class constructor with parameters, it will cause error. Because the inherited class can not find the base class default constructor which is hiden by the explicit constructor of base class.</p>
</blockquote>
<p>Example:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">class Cd</div><div class="line">{</div><div class="line">    <span class="keyword">public</span>:</div><div class="line">      <span class="title">Cd</span>(<span class="keyword">char</span> *s1, <span class="keyword">char</span> *s2, <span class="keyword">int</span> n, <span class="keyword">double</span> x); </div><div class="line">};</div><div class="line"></div><div class="line">class Classic: <span class="keyword">public</span> Cd</div><div class="line">{</div><div class="line">    <span class="keyword">public</span>:</div><div class="line">      <span class="title">Classic</span>(<span class="keyword">char</span> *s, <span class="keyword">char</span> *s1, <span class="keyword">char</span> *s2, <span class="keyword">int</span> n, <span class="keyword">double</span> x);</div><div class="line">};</div><div class="line"></div><div class="line">gcc will report error info when compiling.</div><div class="line">You have two ways to solve <span class="keyword">this</span> error.</div><div class="line">One way: modify the inherited class to explictily call the <span class="keyword">base</span> class constructor.</div><div class="line">class Classic: <span class="keyword">public</span> Cd</div><div class="line">{</div><div class="line">    <span class="keyword">public</span>:</div><div class="line">      <span class="title">Classic</span>(<span class="keyword">char</span> *s, <span class="keyword">char</span> *s1, <span class="keyword">char</span> *s2, <span class="keyword">int</span> n, <span class="keyword">double</span> x) : <span class="title">Cd</span>(s1, s2, n, x)</div><div class="line">};</div><div class="line"></div><div class="line">Second way: modify the <span class="keyword">base</span> class by adding a <span class="keyword">explicit</span> <span class="keyword">default</span> constructor.</div><div class="line">class Cd</div><div class="line">{</div><div class="line">    <span class="keyword">public</span>:</div><div class="line">      <span class="title">Cd</span>();</div><div class="line">      Cd(<span class="keyword">char</span> *s1, <span class="keyword">char</span> *s2, <span class="keyword">int</span> n, <span class="keyword">double</span> x); </div><div class="line">};</div></pre></td></tr></table></figure>


          
        
      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/C-Programming/">
                #C++ Programming
              </a>
            
          </div>
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/03/20/Maze-Problem/">
                Maze Problem
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            Posted on 2015-03-20
          
        </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/03/20/Maze-Problem/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/03/20/Maze-Problem/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h3 id="1-_Problem_Description">1. Problem Description</h3>
<p><img src="https://raw.githubusercontent.com/xuchaoyong/images/master/simple-maze.png" alt="Screen Shot" title="maze map"></p>
<h3 id="2-_Analysis">2. Analysis</h3>
<h3 id="3-_Programming">3. Programming</h3>

          
        
      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/Data-Structure-and-Algorithm/">
                #Data Structure and Algorithm
              </a>
            
          </div>
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/03/17/Sort-of-Cake-in-Programming-Beauty/">
                Sort of Cake in Programming Beauty
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            Posted on 2015-03-17
          
        </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/03/17/Sort-of-Cake-in-Programming-Beauty/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/03/17/Sort-of-Cake-in-Programming-Beauty/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h3 id="1-_Problem_Description">1. Problem Description</h3>
<p>You are allowed to use one hand to reverse a batch of cakes which will be represented by a sequence, such as [4,3,1,2].</p>
<h3 id="2-_Solution">2. Solution</h3>
<p>I have no idea at the first glance of this problem; then I refer to the answer which use recursion method to find the optimal way, wich just confused me deeply. However, I find a answer in another place which give the concrete analysis of the solution.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">                                                                                                                                       </span></div><div class="line"><span class="comment">                                                                                                                                       </span></div><div class="line"><span class="comment">                                                              </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">                                                            </span></div><div class="line"><span class="comment">                                                              |  4</span><span class="string">,</span><span class="comment">2</span><span class="string">,</span><span class="comment">1</span><span class="string">,</span><span class="comment">3  |                                                            </span></div><div class="line"><span class="comment">                                                              </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">                                                            </span></div><div class="line"><span class="comment">                                                                    |                                                                  </span></div><div class="line"><span class="comment">                        </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">                      </span></div><div class="line"><span class="comment">                        |                                           |                                           |                      </span></div><div class="line"><span class="comment">                  </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">                               </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">                              </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">                 </span></div><div class="line"><span class="comment">                  |  2</span><span class="string">,</span><span class="comment">4</span><span class="string">,</span><span class="comment">1</span><span class="string">,</span><span class="comment">3  |                               |  3</span><span class="string">,</span><span class="comment">1</span><span class="string">,</span><span class="comment">2</span><span class="string">,</span><span class="comment">4  |                              |  1</span><span class="string">,</span><span class="comment">2</span><span class="string">,</span><span class="comment">4</span><span class="string">,</span><span class="comment">3  |                 </span></div><div class="line"><span class="comment">                  </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">                               </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">                              </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">                 </span></div><div class="line"><span class="comment">                        |                                           |                                          |                       </span></div><div class="line"><span class="comment">          </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">              </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">             </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">        </span></div><div class="line"><span class="comment">          |             |              |              |             |              |             |             |              |        </span></div><div class="line"><span class="comment">    </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment"> </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment"> </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">   </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment"> </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment"> </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">  </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment"> </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment"> </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">   </span></div><div class="line"><span class="comment">    |X 4</span><span class="string">,</span><span class="comment">2</span><span class="string">,</span><span class="comment">1</span><span class="string">,</span><span class="comment">3 X| |  1</span><span class="string">,</span><span class="comment">4</span><span class="string">,</span><span class="comment">2</span><span class="string">,</span><span class="comment">3  | |  3</span><span class="string">,</span><span class="comment">1</span><span class="string">,</span><span class="comment">4</span><span class="string">,</span><span class="comment">2  |   |  1</span><span class="string">,</span><span class="comment">3</span><span class="string">,</span><span class="comment">2</span><span class="string">,</span><span class="comment">4  | |  2</span><span class="string">,</span><span class="comment">1</span><span class="string">,</span><span class="comment">3</span><span class="string">,</span><span class="comment">4  | |X 4</span><span class="string">,</span><span class="comment">2</span><span class="string">,</span><span class="comment">1</span><span class="string">,</span><span class="comment">3 X|  |  2</span><span class="string">,</span><span class="comment">1</span><span class="string">,</span><span class="comment">4</span><span class="string">,</span><span class="comment">3  | |  4</span><span class="string">,</span><span class="comment">2</span><span class="string">,</span><span class="comment">1</span><span class="string">,</span><span class="comment">3  | |  3</span><span class="string">,</span><span class="comment">4</span><span class="string">,</span><span class="comment">2</span><span class="string">,</span><span class="comment">1  |   </span></div><div class="line"><span class="comment">    </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment"> </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment"> </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">   </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment"> </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment"> </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">  </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment"> </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment"> </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">   </span></div><div class="line"><span class="comment">                        |                                           |                                                                  </span></div><div class="line"><span class="comment">          </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">              </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">                                                                  </span></div><div class="line"><span class="comment">          |             |              |              |                                                                                </span></div><div class="line"><span class="comment">    </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment"> </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment"> </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">   </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">                                                                          </span></div><div class="line"><span class="comment">    |  4</span><span class="string">,</span><span class="comment">1</span><span class="string">,</span><span class="comment">2</span><span class="string">,</span><span class="comment">3  | |X 2</span><span class="string">,</span><span class="comment">4</span><span class="string">,</span><span class="comment">1</span><span class="string">,</span><span class="comment">3 X| |  3</span><span class="string">,</span><span class="comment">2</span><span class="string">,</span><span class="comment">4</span><span class="string">,</span><span class="comment">1  |   |  1</span><span class="string">,</span><span class="comment">2</span><span class="string">,</span><span class="comment">3</span><span class="string">,</span><span class="comment">4  |                                                                          </span></div><div class="line"><span class="comment">    </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment"> </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment"> </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">   </span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="comment">                                     </span></div><div class="line"></div><div class="line"><span class="comment">#From</span> <span class="comment">the</span> <span class="comment">diagram</span><span class="string">,</span> <span class="comment">you</span> <span class="comment">will</span> <span class="comment">understand</span> <span class="comment">the</span> <span class="comment">follow</span> <span class="comment">code:</span></div><div class="line"></div><div class="line"><span class="comment">for</span> <span class="comment">(i=1;</span> <span class="comment">i</span> &lt; <span class="comment">m_nCakeCnt;</span> <span class="comment">i</span><span class="literal">+</span><span class="literal">+</span><span class="comment">)</span></div><div class="line"><span class="comment">{</span></div><div class="line">  <span class="comment">Reverse(0</span><span class="string">,</span> <span class="comment">1);</span></div><div class="line">  <span class="comment">Search(step</span> <span class="literal">+</span> <span class="comment">1);</span></div><div class="line">  <span class="comment">Reverse(0</span><span class="string">,</span> <span class="comment">1);</span></div><div class="line"><span class="comment">}</span></div><div class="line"><span class="comment">#The</span> <span class="comment">loop</span> <span class="comment">visit</span> <span class="comment">all</span> <span class="comment">the</span> <span class="comment">tree</span> <span class="comment">node</span> <span class="comment">one</span> <span class="comment">by</span> <span class="comment">one</span> <span class="comment">to</span> <span class="comment">find</span> <span class="comment">the</span> <span class="comment">result</span><span class="string">.</span></div></pre></td></tr></table></figure>


          
        
      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/Data-Structure-and-Algorithm/">
                #Data Structure and Algorithm
              </a>
            
          </div>
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/03/07/Process-Programming-with-fork/">
                Process Programming with fork
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            Posted on 2015-03-07
          
        </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/03/07/Process-Programming-with-fork/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/03/07/Process-Programming-with-fork/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h3 id="1-_Definition_of_fork()_function">1. Definition of fork() function</h3>
<p>pid_t fork(void) is called once but returns twice. The only difference in the returns is that the return value in the child is 0, whereas the return value in the parent is the process ID of the new child.</p>
<h3 id="2-_Program_Example">2. Program Example</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;unistd.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdlib.h&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">int</span> g_count; <span class="comment">/*Global variable which would be initialized to 0.*/</span></div><div class="line"></div><div class="line"><span class="keyword">int</span> main()</div><div class="line">{</div><div class="line">    <span class="keyword">using</span> std::<span class="built_in">cout</span>;</div><div class="line">    <span class="keyword">int</span> var;</div><div class="line">    pid_t pid;</div><div class="line">	  </div><div class="line">    var = <span class="number">88</span>; </div><div class="line"></div><div class="line">    std::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Before fork\n"</span>;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> ((pid = fork()) &lt; <span class="number">0</span>)</div><div class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"fork error!\n"</span>;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (pid == <span class="number">0</span>)</div><div class="line">    {		          </div><div class="line">      g_count++;			      </div><div class="line">      var++;</div><div class="line">    }	      </div><div class="line">    <span class="keyword">else</span></div><div class="line">      ::sleep(<span class="number">2</span>);</div><div class="line">		    </div><div class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"pid = "</span> &lt;&lt; getpid() &lt;&lt; <span class="string">" g_count = "</span> &lt;&lt; g_count &lt;&lt; <span class="string">" var = "</span> &lt;&lt; var &lt;&lt; <span class="string">"\n"</span>;</div><div class="line">    ::<span class="built_in">exit</span>(<span class="number">0</span>);		        </div><div class="line">}</div></pre></td></tr></table></figure>

<p>Execution Result<br>$ ./a.out<br>a write to stdout<br>before fork<br>pid = 430, glob = 7, var = 89      child’s variables were changed<br>pid = 429, glob = 6, var = 88      parent’s copy was not changed<br>$ ./a.out &gt; temp.out<br>$ cat temp.out<br>a write to stdout<br>before fork<br>pid = 432, glob = 7, var = 89<br>before fork<br>pid = 431, glob = 6, var = 88</p>
<p>The previous program may has different result when you choose differnt standard out. You would get one “before fork” string with your terminal as std out; however, twice string would appear when you select the file as your output. It is caused by the printf function buffer which would be flushed by newline in the terminal output, but fully buffered with files. What’s more, the variable does not changed in the parent process while be abstracted by 1 in the child process.</p>
<h3 id="3-_Process_Resource">3. Process Resource</h3>
<p>The child process gets a copy of the parent’s data space, heap, and stack. Note that this is a copy for the child; the parent and the child do not share these portions of memory; however, the child and the parent share the text segment. Which means that the instructions follows the fork are the same from parent and child process. In order to improve the efficiency, current implementations don’t perform a complete copy of the parent’s data, stack, and heap. Instead, a technique called copy-on-write is used. These regions are shared by the parent and the child and have their protection changed by the kernel to read-only. If either process tries to modify these regions, the kernel then makes a copy of that piece of memory only, typically a page in a virtual memory system.</p>
<h3 id="4-_File_Sharing">4. File Sharing</h3>
<p>The child process will copy the parent process table entry; however, they would share the same file offset, which meands the parent’s file offset shoule be updated by the child when the child writes to standard output. In this scinario, if both parent and child write to the same descriptor, without any form of synchronization, such as having the parent wait for the child, their output will be intermixed.</p>
<h3 id="5-_Why_we_need_fork">5. Why we need fork</h3>
<ol>
<li><p>When a process wants to duplicate itself so that the parent and child can each execute differnt sections of code at the same time. It is common for networking programm.</p>
</li>
<li><p>When a process wants to execute a differnt program. This is common for shells. In this case, the child does an exec right after it returns from the fork.</p>
</li>
</ol>

          
        
      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/Operating-System/">
                #Operating System
              </a>
            
          </div>
        

        

        
        
          <div class="post-eof"></div>
        
      </div>
    
  </div>


  
    

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/01/11/Unix-Networking-Programming-Learning-1/">
                Unix Networking Programming Learning 1
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          
            Posted on 2015-01-11
          
        </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/01/11/Unix-Networking-Programming-Learning-1/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/01/11/Unix-Networking-Programming-Learning-1/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          
            <h4 id="TIME_WAIT_state_in_TCP">TIME_WAIT state in TCP</h4>
<p>The duration is twice the maximum segment lifetime (MSL), sometimes called 2MSL.<br>There are two reasons for the TIME_WAIT state:</p>
<ol>
<li><p>To implement TCP’s full-duplex connection termination reliably<br>Assuming taht the final ACK from the client is lost, and then, the server will resend its final FIN. However, if it does not maintain this information, it would respond with an RST, which would be interpreted by the server as an error.</p>
</li>
<li><p>To allow old duplicate segments to expire in the network<br>TCP must prevent old duplicates from a connection from reappearing at some later<br>time and being misinterpreted as belonging to a new incarnation of the same connection. To do this , TCP will not initiate a new incarnation of a connection that is currently in the TIME_WAIT state. By enforcing this rule, we are guaranteed that when we successfully establish a TCP connection, <strong>all old duplicates from previous incarnations of the connection have expired</strong> in the network.</p>
</li>
</ol>
<h4 id="2-_TCP_Output">2. TCP Output</h4>
<p>When an application calls write, the kernel copies all the data from the application buffer into the socket send buffer. The kernel will not return from the write until the final byte in the application buffer has been copied into the socket send buffer.</p>
<p>The peer TCP must acknowledge the data, and as the ACKs arrive from the peer, only then can our TCP discard the acknowledge data from the socket send buffer. TCP must keep a copy of our data until it is acknowledge by the peer.</p>
<p>TCP sends the data to IP in MSS-sized or smaller chunks, prepending its TCP header to each segment. IP prepends its header, searches the routing table for the desination IP address (the matching routing table entry specifies the outgoing interface), and passes the datagram to the apropriate datalink. IP might perform fragmentation before passing the datagram to the datalink. <code>Fragmentation happens here by IP.</code></p>
<h4 id="3-_UDP_Output">3. UDP Output</h4>
<p>UDP does not really have socket send buffer since it is unreliable, which has no need to keep the send data. </p>
<p>UDP simply prepends its 8-byte header and passes the datagram to IP. If a UDP application send large datagrams, there is a much higher probability of fragmentation than with TCP, because TCP breaks the application data into MSS-sized chunks, something that has no couterpart in UDP.</p>

          
        
      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/Unix-Networking-Programming/">
                #Unix Networking Programming
              </a>
            
          </div>
        

        

        
        
      </div>
    
  </div>


  

          </div>

          
            <div class="pagination">
              <a class="extend prev" rel="prev" href="/page/2/">&laquo;</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/">&raquo;</a>
            </div>
          
        </div>

        
<div class="sidebar-toggle">
  <div class="sidebar-toggle-line-wrap">
    <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
  </div>
</div>

<div id="sidebar" class="sidebar">
  <div class="sidebar-inner">

    

    <div class="site-overview">
      <div class="site-author motion-element">
        <img class="site-author-image" src="/images/default_avatar.jpg" alt="Charlie" />
        <p class="site-author-name">Charlie</p>
      </div>
      <p class="site-description motion-element"></p>
      <div class="site-state motion-element">
        <div class="site-state-item site-state-posts">
          <span class="site-state-item-count">18</span>
          <span class="site-state-item-name">posts</span>
        </div>
        <div class="site-state-item site-state-tags">
            <span class="site-state-item-count">10</span>
            <span class="site-state-item-name">tags</span>
        </div>
        <div class="site-state-item site-state-pages">
            <span class="site-state-item-count">1</span>
            <span class="site-state-item-name">pages</span>
        </div>
      </div>

      

      <div class="social-info motion-element">
        
      </div>

      
      

    </div>

    

  </div>
</div>


      </div>
    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp; 
  2015
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">Charlie</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT</a>
</div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $(".fancybox").fancybox();
    });
  </script>

  <script type="text/javascript">
  function hasMobileUA () {
    var nav = window.navigator;
    var ua = nav.userAgent;
    var pa = /iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g;

    return pa.test(ua);
  }

  function isDesktop () {
    return screen.width > 991 && !hasMobileUA();
  }

  function isTablet () {
    return screen.width < 992 && screen.width > 767 && hasMobileUA();
  }

  function isMobile () {
    return screen.width < 767 && hasMobileUA();
  }

  function escapeSelector (selector) {
    return selector.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g, "\\$&")
  }
</script>

  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  
  <script type="text/javascript" id="motion.page.home">
    $(document).ready(function () {
      $.Velocity.RunSequence([
        { e: $('.brand'), p: { opacity: 1 }, o: { duration: 100 } },
        { e: $('.logo'), p: { opacity: 1, top: 0 }, o: { duration: 50} },
        { e: $('.site-title'), p: { opacity: 1, top: 0 }, o: { duration: 200, sequenceQueue: false } }
      ]);
      $('.menu-item').velocity('transition.slideDownIn', {display: null});
    });
  </script>


  <script type="text/javascript" id="motion.global">
  $(document).ready(function () {
    var body = $('body');
    var isSidebarVisible = false;
    var sidebarToggle = $('.sidebar-toggle');
    var sidebarToggleLine1st = $('.sidebar-toggle-line-first')
    var sidebarToggleLine2nd = $('.sidebar-toggle-line-middle');
    var sidebarToggleLine3rd = $('.sidebar-toggle-line-last');
    var sidebar = $('.sidebar');

    var SIDEBAR_WIDTH = '320px';
    var SIDEBAR_DISPLAY_DURATION = 300;

    var sidebarToogleLineStatusInit = {width: '100%', opacity: 1, left: 0, rotateZ: 0, top: 0};

    var sidebarToggleLine1stStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine1stStatusArrow = {width: '50%', rotateZ: '-45deg', top: '2px'};
    var sidebarToogleLine1stStatusClose = {width: '100%', rotateZ: '-45deg', top: '5px'};

    var sidebarToggleLine2ndStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine2ndStatusArrow = {width: '90%'};
    var sidebarToogleLine2ndStatusClose = {opacity: 0};

    var sidebarToggleLine3rdStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine3rdStatusArrow = {width: '50%', rotateZ: '45deg', top: '-2px'};
    var sidebarToogleLine3rdStatusClose = {width: '100%', rotateZ: '45deg', top: '-5px'};

    sidebatToggleMotion();
    postsListMotion();
    backToTopMotion();


    $(document)
      .on('sidebar.isShowing', function () {
        isDesktop() && body.velocity(
          {paddingRight: SIDEBAR_WIDTH},
          SIDEBAR_DISPLAY_DURATION
        );
        sidebarContentMotion();
      })
      .on('sidebar.isHiding', function () {});


    function backToTopMotion () {
      var b2top = $('.back-to-top');
      b2top.on('click', function () {
        body.velocity('scroll');
      });
    }

    function sidebarShowMotion () {

      sidebarToggleLine1st.velocity(sidebarToogleLine1stStatusClose);
      sidebarToggleLine2nd.velocity(sidebarToogleLine2ndStatusClose);
      sidebarToggleLine3rd.velocity(sidebarToogleLine3rdStatusClose);

      sidebar.velocity({width: SIDEBAR_WIDTH}, {
        display: 'block',
        duration: SIDEBAR_DISPLAY_DURATION,
        complete: function () {
          sidebar.addClass('sidebar-active');
          sidebar.trigger('sidebar.didShow');
        }
      });
      sidebar.trigger('sidebar.isShowing');
    }

    function sidebarHideMotion () {
      isDesktop() && body.velocity({paddingRight: 0});
      sidebar.velocity('reverse');

      sidebarToggleLine1st.velocity(sidebarToggleLine1stStatusInit);
      sidebarToggleLine2nd.velocity(sidebarToggleLine2ndStatusInit);
      sidebarToggleLine3rd.velocity(sidebarToggleLine3rdStatusInit);

      sidebar.removeClass('sidebar-active');
      sidebar.trigger('sidebar.isHiding');
    };

    function sidebarContentMotion () {
      $('.sidebar .motion-element').velocity(
        'transition.slideRightIn',
        {stagger: 50, drag: true}
      );
    }

    function postsListMotion () {
      var postMotionOptions = postMotionOptions || {stagger: 300, drag: true};
      $('.post').velocity('transition.slideDownIn', postMotionOptions);
    }

    function sidebatToggleMotion () {
      sidebarToggle.on('click', function () {
        isSidebarVisible ? sidebarHideMotion() : sidebarShowMotion();
        isSidebarVisible = !isSidebarVisible;
      });

      sidebarToggle.hover(function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusArrow);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusArrow);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusArrow);
      }, function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusInit);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusInit);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusInit);
      });
    }
  });

</script>





  

  

  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"duoshuo-shortname"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
  
</body>
</html>
